<p-toast position="top-center" key="tc"></p-toast>
<p-tabView (onChange)="handleChange($event)">
  <p-tabPanel header="Article yearly report" id="yearly-report">
    <p-card>
      <div *ngFor="let category of categories" class="p-field-checkbox">
        <p-radioButton (click)="fixUpData()" [inputId]="category.key" name="category" [value]="category"
          [(ngModel)]="selectedCategory" [disabled]="category.key === 'R'"></p-radioButton>
        <label [for]="category.key">{{category.name}}</label>
      </div>
      <div class="p-field">
        <label styleClass="p-col-fixed" style="margin-right: 10px;">Year: </label>
        <input  id="year-1" type="number" pInputText [(ngModel)]="articleYearInput" (change)="getArticleYearlyData()" />
      </div>
      <div class="pie1">
        <p-chart type="pie" [data]="data"></p-chart>
      </div>
    </p-card>
  </p-tabPanel>
  <p-tabPanel header="Article quarter report" id="quarter-report">
    <p-card>
      <div *ngFor="let category of categories" class="p-field-checkbox">
        <p-radioButton (click)="fixUpData()" [inputId]="category.key" name="category" [value]="category"
          [(ngModel)]="selectedCategory" [disabled]="category.key === 'R'"></p-radioButton>
        <label [for]="category.key">{{category.name}}</label>
      </div>
      <div class="p-field">
        <label styleClass="p-col-fixed" style="margin-right: 10px;">Year: </label>
        <input type="number" id="year-2" pInputText [(ngModel)]="articleQuarterYearInput" (change)="getArticleQuarterData()" />
      </div>
      <div class="p-field">
        <label styleClass="p-col-fixed" style="margin-right: 10px;">Quarter: </label>
        <p-dropdown [options]="quarters" id="quarter-1" [(ngModel)]="articleQuarterInput" optionLabel="name"
        (onChange)="getArticleQuarterData()"
        ></p-dropdown>
      </div>
      <div class="pie2">
        <p-chart type="pie" [data]="data"></p-chart>
      </div>
    </p-card>
  </p-tabPanel>
  <p-tabPanel header="Article month report">
    <p-card>
        <div *ngFor="let category of categories" class="p-field-checkbox">
          <p-radioButton (click)="fixUpData()" [inputId]="category.key" name="category" [value]="category"
            [(ngModel)]="selectedCategory" [disabled]="category.key === 'R'"></p-radioButton>
          <label [for]="category.key">{{category.name}}</label>
        </div>
        <div class="p-field">
          <label styleClass="p-col-fixed" style="margin-right: 10px;">Year: </label>
          <input type="number" pInputText id="year-3" [(ngModel)]="articleMonthYearInput" (change)="getArticleMonthData()" />
        </div>
        <div class="p-field">
          <label styleClass="p-col-fixed" style="margin-right: 10px;">Month: </label>
          <p-dropdown [options]="months" id="month-1" [(ngModel)]="articleMonthInput" optionLabel="name"
          (onChange)="getArticleMonthData()"
          ></p-dropdown>
        </div>
        <div class="pie2">
          <p-chart type="pie" [data]="data"></p-chart>
        </div>
      </p-card>
  </p-tabPanel>
  <p-tabPanel header="Article day report">
    <p-card>
        <div *ngFor="let category of categories" class="p-field-checkbox">
          <p-radioButton (click)="fixUpData()" [inputId]="category.key" name="category" [value]="category"
            [(ngModel)]="selectedCategory" [disabled]="category.key === 'R'"></p-radioButton>
          <label [for]="category.key">{{category.name}}</label>
        </div>
            <div class="p-field">
                <label for="basic">Choose a date: </label>
                <br>
                <p-calendar id="calendar-1" (onSelect)="getArticleDayData()" name="calendar" inputId="basic" [(ngModel)]="date1"></p-calendar>
            </div>
        <div class="pie3">
          <p-chart type="pie" [data]="data"></p-chart>
        </div>
      </p-card>
  </p-tabPanel>
  <p-tabPanel header="Article from/to report">
    <p-card>
        <div *ngFor="let category of categories" class="p-field-checkbox">
          <p-radioButton (click)="fixUpData()" [inputId]="category.key" name="category" [value]="category"
            [(ngModel)]="selectedCategory" [disabled]="category.key === 'R'"></p-radioButton>
          <label [for]="category.key">{{category.name}}</label>
        </div>
            <div class="p-field">
                <label for="basic">Choose a start date: </label>
                <br>
                <p-calendar class="calendar1" id="calendar-2" (onSelect)="getArticleFromToData()" name="calendar" inputId="basic" [(ngModel)]="date2"></p-calendar>
            </div>
            <div class="p-field">
                <label for="basic">Choose an end date: </label>
                <br>
                <p-calendar class="calendar2" id="calendar-3" (onSelect)="getArticleFromToData()" name="calendar" inputId="basic" [(ngModel)]="date3"></p-calendar>
            </div>
        <div class="pie4">
          <p-chart type="pie" [data]="data"></p-chart>
        </div>
      </p-card>
  </p-tabPanel>
</p-tabView>
<!-- <p style="visibility: hidden;">{{data.labels}}</p> -->
<p style="height: 0px; width: 0px;">{{data.labels}}</p>